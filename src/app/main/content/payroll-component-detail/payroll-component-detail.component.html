<div id="forms" class="page-layout simple fullwidth" fxLayout="column" fusePerfectScrollbar>

  <!-- HEADER -->
  <div class="header mat-accent-bg p-24 h-160" fxLayout="row" fxLayoutAlign="start center">
    <div fxLayout="column" fxLayoutAlign="center start">
      <!-- <div class="black-fg" fxLayout="row" fxLayoutAlign="start center">
        <mat-icon class="secondary-text s-16">home</mat-icon>
        <mat-icon class="secondary-text s-16">chevron_right</mat-icon>
        <span class="secondary-text">Company</span>
      </div> -->
      <div class="h1 mt-16">Payroll Component</div>
    </div>
  </div>
  <!-- / HEADER -->
  <!-- CONTENT -->
  <div class="content">
    <mat-progress-bar mode="indeterminate" [hidden]="loadingbar"></mat-progress-bar>
  </div>
  <div class="content p-24">
    <mat-tab-group>
      <mat-tab label="Header">
        <div fxLayout="column" fxLayoutAlign="start start" fxLayout.gt-md="row">

          <!-- REACTIVE FORM EXAMPLE -->

          <form class="mat-white-bg mat-elevation-z4 p-24 mr-24 mb-24" fxLayout="column" fxLayoutAlign="start" fxFlex="1 0 auto" name="form"
            [formGroup]="form" (ngSubmit)="onSubmit(form.value)" style="width: 100%;">

            <div fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto">

              <mat-form-field fxFlex="50">
                <input matInput placeholder="Payroll Component Code" formControlName="componentCd" required>
                <mat-error *ngIf="formErrors.componentCd.required">
                  Payroll Component Code is required!
                </mat-error>
                <mat-error *ngIf="formErrors.componentCd.maxLength">
                  Payroll Component Code maximum length is 10 chars!
                </mat-error>
              </mat-form-field>

            </div>

            <div fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto">

              <mat-form-field fxFlex="100">
                <input matInput placeholder="Payroll Component Name" formControlName="name" required>
                <mat-error *ngIf="formErrors.name.required">
                  Payroll Component Name is required!
                </mat-error>
              </mat-form-field>

            </div>

            <div fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto">
              <mat-form-field fxFlex="100">
                <mat-select placeholder="Calculation Type" formControlName="calcType" required>
                  <mat-option *ngFor="let item of calcTypeOption" [value]="item.value">
                    {{ item.display_name }}
                  </mat-option>
                </mat-select>
              </mat-form-field>
            </div>

            <div fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto">
              <mat-form-field fxFlex="100">
                <mat-select placeholder="Pro Rate" formControlName="proRate">
                  <mat-option>-- None --</mat-option>
                  <mat-option *ngFor="let item of proRateOption" [value]="item.id">
                    {{ item.name }}
                  </mat-option>
                </mat-select>
              </mat-form-field>

            </div>

            <div fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto">

              <!-- <mat-form-field fxFlex="100"> -->
              <mat-checkbox formControlName="tax">Taxable</mat-checkbox>
              <!-- </mat-form-field> -->

            </div>

            <div fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto">

              <!-- <mat-form-field fxFlex="100"> -->
              <mat-checkbox formControlName="absentDeduct">Absent Deduction</mat-checkbox>
              <!-- </mat-form-field> -->

            </div>

            <div fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto">

              <!-- <mat-form-field fxFlex="100"> -->
              <mat-checkbox formControlName="payrollDeduct">Payroll Deduction</mat-checkbox>
              <!-- </mat-form-field> -->

            </div>

            <div fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto">

              <!-- <mat-form-field fxFlex="100"> -->
              <mat-checkbox formControlName="compSubsidize">Company Subsidize</mat-checkbox>
              <!-- </mat-form-field> -->

            </div>
            <div fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto">
              <div class="button-row" style="margin-top:25px">
                <button mat-raised-button class="mat-accent" type="submit">
                  Submit
                </button>
                <a mat-raised-button [routerLink]="['/master/component/']">
                  Back
                </a>
              </div>
            </div>

          </form>
          <!-- / REACTIVE FORM EXAMPLE -->
        </div>
      </mat-tab>
      <mat-tab label="Detail">
        <form class="mat-white-bg mat-elevation-z4 p-24 mr-24 mb-24" fxLayout="column" fxLayoutAlign="start" fxFlex="1 0 auto" name="formDetail"
          [formGroup]="formDetail" (ngSubmit)="onSubmitDetail(formDetail.value)" style="width: 100%;">

          <div fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto">

            <mat-form-field fxFlex="100">
              <input matInput placeholder="Description" formControlName="descs" required>
              <mat-error *ngIf="formErrorsDetail.descs.required">
                Description is required!
              </mat-error>
            </mat-form-field>

          </div>

          <div fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto">
            <mat-form-field fxFlex="100">
              <mat-select placeholder="Calculation Type" formControlName="calcType">
                <mat-option *ngFor="let item of calcTypeDetailOption" [value]="item.value">
                  {{ item.display_name }}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>

          <div fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto">

            <mat-form-field fxFlex="33">
              <input matInput type="number" placeholder="Max Calculated Salary" formControlName="maxSalaryCalc" required>
              <mat-error *ngIf="formErrorsDetail.maxSalaryCalc.required">
                Max Calculated Salary is required!
              </mat-error>
            </mat-form-field>

            <mat-form-field fxFlex="33">
              <input matInput type="number" placeholder="Employee Value" formControlName="employeeVAl" required>
              <mat-error *ngIf="formErrorsDetail.employeeVAl.required">
                Employee Value is required!
              </mat-error>
            </mat-form-field>

            <mat-form-field fxFlex="33">
              <input matInput type="number" placeholder="Company Value" formControlName="companyVal" required>
              <mat-error *ngIf="formErrorsDetail.companyVal.required">
                Company Value is required!
              </mat-error>
            </mat-form-field>

          </div>
          
          <div fxLayout="row" fxLayoutAlign="start center" fxFlex="1 1 auto">
            <div class="button-row" style="margin-bottom:25px">
              <button mat-raised-button class="mat-accent" type="submit">
                Add
              </button>
            </div>
          </div>
          <ngx-datatable class="material" [columns]="columns" [rows]="addedDetail" [limit]="10" [columnMode]="'force'" [rowHeight]="'auto'" [scrollbarH]="true"
      [footerHeight]="50" [loadingIndicator]="loadingIndicator">
      </ngx-datatable>

        </form>        
      </mat-tab>
    </mat-tab-group>
  </div>
  <!-- / CONTENT -->

</div>